{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState } from 'react';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { useNavigation } from '@react-navigation/native';\nimport FlatButton from \"../ui/FlatButton\";\nimport AuthForm from \"./AuthForm\";\nimport { Colors } from \"../../constants/styles\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction AuthContent(_ref) {\n  var isLogin = _ref.isLogin,\n      onAuthenticate = _ref.onAuthenticate;\n  var navigation = useNavigation();\n\n  var _useState = useState({\n    email: false,\n    password: false,\n    confirmEmail: false,\n    confirmPassword: false\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      credentialsInvalid = _useState2[0],\n      setCredentialsInvalid = _useState2[1];\n\n  function switchAuthModeHandler() {\n    if (isLogin) {\n      navigation.replace('Signup');\n    } else {\n      navigation.replace('Login');\n    }\n  }\n\n  function submitHandler(credentials) {\n    var email = credentials.email,\n        confirmEmail = credentials.confirmEmail,\n        password = credentials.password,\n        confirmPassword = credentials.confirmPassword;\n    email = email.trim();\n    password = password.trim();\n    var emailIsValid = \"/^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+.)+([a-zA-Z0-9]{2,4})+$/\".test(email);\n    var passwordIsValid = \"/^(?=.*[a-z])(?=.*[A-Z])(?=.*d)(?=.*[@$!%*?&])[A-Za-zd@$!%*?&]{8,}$/\".test(password);\n    var emailsAreEqual = email === confirmEmail;\n    var passwordsAreEqual = password === confirmPassword;\n\n    if (!emailIsValid || !passwordIsValid || !isLogin && (!emailsAreEqual || !passwordsAreEqual)) {\n      Alert.alert('Invalid input', 'Please check your entered credentials.');\n      setCredentialsInvalid({\n        email: !emailIsValid,\n        confirmEmail: !emailIsValid || !emailsAreEqual,\n        password: !passwordIsValid,\n        confirmPassword: !passwordIsValid || !passwordsAreEqual\n      });\n      return;\n    }\n\n    onAuthenticate({\n      email: email,\n      password: password\n    });\n  }\n\n  return _jsxs(View, {\n    style: styles.authContent,\n    children: [_jsx(AuthForm, {\n      isLogin: isLogin,\n      onSubmit: submitHandler,\n      credentialsInvalid: credentialsInvalid\n    }), _jsx(View, {\n      style: styles.buttons,\n      children: _jsx(FlatButton, {\n        onPress: switchAuthModeHandler,\n        children: isLogin ? 'Create a new user' : 'Log in instead'\n      })\n    })]\n  });\n}\n\nexport default AuthContent;\nvar styles = StyleSheet.create({\n  authContent: {\n    marginTop: 64,\n    marginHorizontal: 32,\n    padding: 16,\n    borderRadius: 8,\n    backgroundColor: Colors.primary800,\n    elevation: 2,\n    shadowColor: 'black',\n    shadowOffset: {\n      width: 1,\n      height: 1\n    },\n    shadowOpacity: 0.35,\n    shadowRadius: 4\n  },\n  buttons: {\n    marginTop: 8\n  }\n});","map":{"version":3,"sources":["C:/Users/Dell/Downloads/react-native-practical-guide-code-11-auth/react-native-practical-guide-code-11-auth/code/01-starting-code/components/Auth/AuthContent.js"],"names":["useState","useNavigation","FlatButton","AuthForm","Colors","AuthContent","isLogin","onAuthenticate","navigation","email","password","confirmEmail","confirmPassword","credentialsInvalid","setCredentialsInvalid","switchAuthModeHandler","replace","submitHandler","credentials","trim","emailIsValid","test","passwordIsValid","emailsAreEqual","passwordsAreEqual","Alert","alert","styles","authContent","buttons","StyleSheet","create","marginTop","marginHorizontal","padding","borderRadius","backgroundColor","primary800","elevation","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius"],"mappings":";AAAA,SAASA,QAAT,QAAyB,OAAzB;;;;AAEA,SAAQC,aAAR,QAA4B,0BAA5B;AAEA,OAAOC,UAAP;AACA,OAAOC,QAAP;AACA,SAASC,MAAT;;;;AAEA,SAASC,WAAT,OAAkD;AAAA,MAA3BC,OAA2B,QAA3BA,OAA2B;AAAA,MAAlBC,cAAkB,QAAlBA,cAAkB;AAChD,MAAMC,UAAU,GAAGP,aAAa,EAAhC;;AAEA,kBAAoDD,QAAQ,CAAC;AAC3DS,IAAAA,KAAK,EAAE,KADoD;AAE3DC,IAAAA,QAAQ,EAAE,KAFiD;AAG3DC,IAAAA,YAAY,EAAE,KAH6C;AAI3DC,IAAAA,eAAe,EAAE;AAJ0C,GAAD,CAA5D;AAAA;AAAA,MAAOC,kBAAP;AAAA,MAA2BC,qBAA3B;;AAOA,WAASC,qBAAT,GAAiC;AAC/B,QAAIT,OAAJ,EAAY;AACVE,MAAAA,UAAU,CAACQ,OAAX,CAAmB,QAAnB;AACD,KAFD,MAEK;AACHR,MAAAA,UAAU,CAACQ,OAAX,CAAmB,OAAnB;AACD;AACF;;AAED,WAASC,aAAT,CAAuBC,WAAvB,EAAoC;AAClC,QAAMT,KAAN,GAAyDS,WAAzD,CAAMT,KAAN;AAAA,QAAaE,YAAb,GAAyDO,WAAzD,CAAaP,YAAb;AAAA,QAA2BD,QAA3B,GAAyDQ,WAAzD,CAA2BR,QAA3B;AAAA,QAAqCE,eAArC,GAAyDM,WAAzD,CAAqCN,eAArC;AAEAH,IAAAA,KAAK,GAAGA,KAAK,CAACU,IAAN,EAAR;AACAT,IAAAA,QAAQ,GAAGA,QAAQ,CAACS,IAAT,EAAX;AAEA,QAAMC,YAAY,GAAG,+DAAoEC,IAApE,CAAyEZ,KAAzE,CAArB;AACA,QAAMa,eAAe,GAAG,uEAAyED,IAAzE,CAA8EX,QAA9E,CAAxB;AACA,QAAMa,cAAc,GAAGd,KAAK,KAAKE,YAAjC;AACA,QAAMa,iBAAiB,GAAGd,QAAQ,KAAKE,eAAvC;;AAEA,QACE,CAACQ,YAAD,IACA,CAACE,eADD,IAEC,CAAChB,OAAD,KAAa,CAACiB,cAAD,IAAmB,CAACC,iBAAjC,CAHH,EAIE;AACAC,MAAAA,KAAK,CAACC,KAAN,CAAY,eAAZ,EAA6B,wCAA7B;AACAZ,MAAAA,qBAAqB,CAAC;AACpBL,QAAAA,KAAK,EAAE,CAACW,YADY;AAEpBT,QAAAA,YAAY,EAAE,CAACS,YAAD,IAAiB,CAACG,cAFZ;AAGpBb,QAAAA,QAAQ,EAAE,CAACY,eAHS;AAIpBV,QAAAA,eAAe,EAAE,CAACU,eAAD,IAAoB,CAACE;AAJlB,OAAD,CAArB;AAMA;AACD;;AACDjB,IAAAA,cAAc,CAAC;AAAEE,MAAAA,KAAK,EAALA,KAAF;AAASC,MAAAA,QAAQ,EAARA;AAAT,KAAD,CAAd;AACD;;AAED,SACE,MAAC,IAAD;AAAM,IAAA,KAAK,EAAEiB,MAAM,CAACC,WAApB;AAAA,eACE,KAAC,QAAD;AACE,MAAA,OAAO,EAAEtB,OADX;AAEE,MAAA,QAAQ,EAAEW,aAFZ;AAGE,MAAA,kBAAkB,EAAEJ;AAHtB,MADF,EAME,KAAC,IAAD;AAAM,MAAA,KAAK,EAAEc,MAAM,CAACE,OAApB;AAAA,gBACE,KAAC,UAAD;AAAY,QAAA,OAAO,EAAEd,qBAArB;AAAA,kBACGT,OAAO,GAAG,mBAAH,GAAyB;AADnC;AADF,MANF;AAAA,IADF;AAcD;;AAED,eAAeD,WAAf;AAEA,IAAMsB,MAAM,GAAGG,UAAU,CAACC,MAAX,CAAkB;AAC/BH,EAAAA,WAAW,EAAE;AACXI,IAAAA,SAAS,EAAE,EADA;AAEXC,IAAAA,gBAAgB,EAAE,EAFP;AAGXC,IAAAA,OAAO,EAAE,EAHE;AAIXC,IAAAA,YAAY,EAAE,CAJH;AAKXC,IAAAA,eAAe,EAAEhC,MAAM,CAACiC,UALb;AAMXC,IAAAA,SAAS,EAAE,CANA;AAOXC,IAAAA,WAAW,EAAE,OAPF;AAQXC,IAAAA,YAAY,EAAE;AAAEC,MAAAA,KAAK,EAAE,CAAT;AAAYC,MAAAA,MAAM,EAAE;AAApB,KARH;AASXC,IAAAA,aAAa,EAAE,IATJ;AAUXC,IAAAA,YAAY,EAAE;AAVH,GADkB;AAa/Bf,EAAAA,OAAO,EAAE;AACPG,IAAAA,SAAS,EAAE;AADJ;AAbsB,CAAlB,CAAf","sourcesContent":["import { useState } from 'react';\nimport { Alert, StyleSheet, View } from 'react-native';\nimport {useNavigation} from '@react-navigation/native';\n\nimport FlatButton from '../ui/FlatButton';\nimport AuthForm from './AuthForm';\nimport { Colors } from '../../constants/styles';\n\nfunction AuthContent({ isLogin, onAuthenticate }) {\n  const navigation = useNavigation();\n\n  const [credentialsInvalid, setCredentialsInvalid] = useState({\n    email: false,\n    password: false,\n    confirmEmail: false,\n    confirmPassword: false,\n  });\n\n  function switchAuthModeHandler() {\n    if (isLogin){\n      navigation.replace('Signup');\n    }else{\n      navigation.replace('Login');\n    }\n  }\n\n  function submitHandler(credentials) {\n    let { email, confirmEmail, password, confirmPassword } = credentials;\n\n    email = email.trim();\n    password = password.trim();\n    \n    const emailIsValid = `/^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/`.test(email);\n    const passwordIsValid = `/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/`.test(password);\n    const emailsAreEqual = email === confirmEmail;\n    const passwordsAreEqual = password === confirmPassword;\n\n    if (\n      !emailIsValid ||\n      !passwordIsValid ||\n      (!isLogin && (!emailsAreEqual || !passwordsAreEqual))\n    ) {\n      Alert.alert('Invalid input', 'Please check your entered credentials.');\n      setCredentialsInvalid({\n        email: !emailIsValid,\n        confirmEmail: !emailIsValid || !emailsAreEqual,\n        password: !passwordIsValid,\n        confirmPassword: !passwordIsValid || !passwordsAreEqual,\n      });\n      return;\n    }\n    onAuthenticate({ email, password });\n  }\n\n  return (\n    <View style={styles.authContent}>\n      <AuthForm\n        isLogin={isLogin}\n        onSubmit={submitHandler}\n        credentialsInvalid={credentialsInvalid}\n      />\n      <View style={styles.buttons}>\n        <FlatButton onPress={switchAuthModeHandler}>\n          {isLogin ? 'Create a new user' : 'Log in instead'}\n        </FlatButton>\n      </View>\n    </View>\n  );\n}\n\nexport default AuthContent;\n\nconst styles = StyleSheet.create({\n  authContent: {\n    marginTop: 64,\n    marginHorizontal: 32,\n    padding: 16,\n    borderRadius: 8,\n    backgroundColor: Colors.primary800,\n    elevation: 2,\n    shadowColor: 'black',\n    shadowOffset: { width: 1, height: 1 },\n    shadowOpacity: 0.35,\n    shadowRadius: 4,\n  },\n  buttons: {\n    marginTop: 8,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}